
<html>
    <head>
        <title> MzTreeView 2 </title>
        <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'>
        <script type="text/javascript" src="jquery-1.3.2.min.js"></script>
        <script type="text/javascript" src="jsframework.js"></script>        
    </head>

    <body>
        <input type="button" value="expandAll" onclick="a.expandAll('1')" />
        <input type="button" value="collapseAll" onclick="a.collapseAll('1')" />
        <input type="button" value="focusPath" onclick="a.focusNodeByPath('1_9009_53_5304')" />
        <input type="button" value="append" onclick="a.appendNode('9001_mm', 'text: new node;')">
        <input type="button" value="checked" onclick="getChecked();">

        <script type="text/javascript">
            function getChecked(){
                var s = '', nodes = a.nodes;
                for(var i in nodes) {
                    if(nodes[i].checked){
                        s += nodes[i].id + ':' + nodes[i].text + ', ' ;
                    }
                }
                alert(s);
            }

            var data={};
            data["-1_1"] = "text: CSDN社区起始点;";
            data['1_9001'] = 'text: 我感兴趣的社区;'; //JSData: myselect.aspx
            data['1_9002'] = 'text: 我的技术社区 xml; XMLData: mycommunity.xml ';
            data['1_9009'] = 'text: 开发语言; checked: true; url:/Expert/ForumsList.asp?typenum=1&roomid=1 ; JSData: csdn/community/treedata/language.js ';
            data['1_54'] = 'text: Java 技术; url:/Expert/ForumsList.asp?typenum=1&roomid=54 ; JSData: csdn/community/treedata/java.js ';
            data['1_52'] = 'text: .Net 技术; url:/Expert/ForumsList.asp?typenum=1&roomid=52 ; JSData: csdn/community/treedata/donnet.js ';
            data['1_9003'] = 'text: IBM developerWorks 技术社区; JSData: csdn/community/treedata/ibm.js ';
            data['1_9004'] = 'text:Borland 技术社区; JSData: csdn/community/treedata/borland.js ';
            data['1_2'] = 'text: 数据库开发; url:/Expert/ForumsList.asp?typenum=1&roomid=2 ; JSData: csdn/community/treedata/db.js ';
            data['1_3'] = 'text: WEB 开发; url:/Expert/ForumsList.asp?typenum=1&roomid=3 ; JSData: csdn/community/treedata/web.js ';
            data['1_4'] = 'text: 软件工程/管理; url:/Expert/ForumsList.asp?typenum=1&roomid=4 ; JSData: csdn/community/treedata/project.js ';
            data['1_5'] = 'text: 企业开发; url:/Expert/ForumsList.asp?typenum=1&roomid=5 ; JSData: csdn/community/treedata/enterprise.js ';
            data['1_6'] = 'text: 专题开发/技术/项目; url:/Expert/ForumsList.asp?typenum=1&roomid=6 ; JSData: csdn/community/treedata/special.js ';
            data['1_7'] = 'text: 多媒体/设计/Flash开发; url:/Expert/ForumsList.asp?typenum=1&roomid=7 ; JSData: csdn/community/treedata/multimedia.js ';
            data['1_8'] = 'text: Linux/Unix 社区; url:/Expert/ForumsList.asp?typenum=1&roomid=8 ; JSData: csdn/community/treedata/linux.js ';
            data['1_9'] = 'text: 硬件/嵌入开发; url:/Expert/ForumsList.asp?typenum=1&roomid=9 ; JSData: csdn/community/treedata/embed.js ';
            data['1_63'] = 'text: 移动平台; url:/Expert/ForumsList.asp?typenum=1&roomid=63 ; JSData: csdn/community/treedata/moble.js ';
            data['1_609'] = 'text: 英特尔多核计算技术; data:roomid=609';
            data['1_10'] = 'text: Windows 专区; url:/Expert/ForumsList.asp?typenum=1&roomid=10 ; JSData: csdn/community/treedata/window.js ';
            data['1_9005'] = 'text: Microsoft Office 应用与开发; JSData: csdn/community/treedata/office.js ';
            data['1_11'] = 'text: 硬件使用; url:/Expert/ForumsList.asp?typenum=1&roomid=11 ; JSData: csdn/community/treedata/hardware.js ';
            data['1_20'] = 'text: 计算机图书; JSData: csdn/community/treedata/book.js ';
            data['1_13'] = 'text: 软件培训/认证/考试; url:/Expert/ForumsList.asp?typenum=1&roomid=13 ; JSData: csdn/community/treedata/train.js ';
            data['1_14'] = 'text: 扩充话题; url:/Expert/ForumsList.asp?typenum=1&roomid=14 ; JSData: csdn/community/treedata/expansion.js ';
            data['1_9006'] = 'text: 程序员杂志社; JSData: csdn/community/treedata/mag.js ';
            data['1_15'] = 'text: 社区支持; url:/Expert/ForumsList.asp?typenum=1&roomid=15';
            data['15_1501'] = 'text: 公告; data:roomid=1501; checked: true;';
            data['15_1502'] = 'text: 新版申请; data:roomid=1502';
            data['15_1503'] = 'text: 建议和意见; data:roomid=1503';
            data['15_1504'] = 'text: 投诉专区; data:roomid=1504';
            data['15_1505'] = 'text: 社区电子杂志; data:roomid=1505';
            data['15_1500001'] = 'text: CSDN Blog支持专区; data:roomid=1506';
            data['1_16'] = 'text: 产品/厂家; url:/Expert/ForumsList.asp?typenum=1&roomid=16 ; JSData: csdn/community/treedata/manufacturer.js ';
            data['1_9007'] = 'text: 系统功能; JSData: csdn/community/treedata/system.js ';
            data['1_9008'] = 'text: 版主管理; url:/Expert/Manage/index1.asp ; JSData: csdn/community/treedata/manage.js ';

            var xmlstr='<nodes>'+
                '<node text="总经办" />'+
                '<node text="人力资源部" />'+
                '<node text="综合管理部" />'+
                '<node text="财务部" />'+
                '<node text="研发中心" />'+
                '<node text="客户服务中心">'+
                    '<node text="实施部" />'+
                    '<node text="运维服务部" />'+
                '</node>'+
                '<node text="营销中心" />'+
              '</nodes>';

            //*
            //Using("System.Web.UI.WebControls.MzTreeView");
            var a = new MzTreeView();
            a.dataSource = data
            a.loadXmlDataString(xmlstr, 1);

            a.setJsDataPath("csdn/community/treedata/");
            a.setXmlDataPath("csdn/community/treedata/");
            //a.rootId="1";
            a.showRoot=true;
            a.autoSort=false;
            a.useCheckbox=true
            a.canOperate=true;
            document.write(a.render());
            a.expandLevel(1);
            //*/

        </script>
    </body>
</html>
